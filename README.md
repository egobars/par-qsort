# CW1. Parallel qsort

## Сборка и запуск

Сборка

```
mkdir build
cd build
cmake ..
make
```

Запуск тестов:

```
ctest
```

Запуск измерения скорости:

```
PARLAY_NUM_THREADS=4 ./speed_measure
```

## Результаты

```
Среднее время сортировки последовательной версии: 8.71 секунд
Среднее время сортировки параллельной версии: 2.68 секунд
Ускорение: 3.25 раз
```

## Немного про реализацию

Фактически единственное изменение параллельной версии от последовательной - это разделение обработки подмассивов через `fork-join`. Партиционирование массива в обоих версиях одинаково и однопоточно. Из-за ограничения потоков всего в 4 смысл делать партиционирование через filter теряется - в идеальном случае мы будем иметь ускорение не более чем в 4 раза, но константа для реализации через filter уже будет около 3 (не считая того что нам нужна будет дополнительная память), а накладные расходы на параллелизацию съедят любой потеницальный профит.

В обоих версиях применена оптимизация для коротких массивов - если при разделении оказалось, что массив длины 3 или меньше, он не разделяется рекурсией, а сортируется вручную.
